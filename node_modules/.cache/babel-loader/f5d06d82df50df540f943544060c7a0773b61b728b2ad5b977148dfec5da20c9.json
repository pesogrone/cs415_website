{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const UserView=()=>{const navigate=useNavigate();const[columns,setColumns]=useState([]);const[records,setRecords]=useState([]);useEffect(()=>{if(!window.sessionStorage.getItem(\"auth\"))navigate(\"/unauthorized\");fetch(process.env.REACT_APP_API_URL_BASE+\"/users\").then(res=>res.json()).then(data=>{setColumns(Object.keys(data.users[0]));setRecords(data.users);}).catch(error=>console.error(error));},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Users\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:columns.map((c,i)=>/*#__PURE__*/_jsx(\"th\",{children:c.replaceAll(\"_\",\" \").toUpperCase()},i))})}),/*#__PURE__*/_jsx(\"tbody\",{children:records.map((record,i)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:record.user_id}),/*#__PURE__*/_jsx(\"td\",{children:record.user_name}),/*#__PURE__*/_jsx(\"td\",{children:record.email}),/*#__PURE__*/_jsx(\"td\",{class:\"hidetext\",children:record.password}),/*#__PURE__*/_jsx(\"td\",{children:record.firstname}),/*#__PURE__*/_jsx(\"td\",{children:record.lastname}),/*#__PURE__*/_jsx(\"td\",{children:record.address})]},i))})]})]});};export default UserView;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","UserView","navigate","columns","setColumns","records","setRecords","window","sessionStorage","getItem","fetch","process","env","REACT_APP_API_URL_BASE","then","res","json","data","Object","keys","users","catch","error","console","children","className","map","c","i","replaceAll","toUpperCase","record","user_id","user_name","email","class","password","firstname","lastname","address"],"sources":["C:/Users/rmbgk/Desktop/semesters/Winter 2023/Cs415/cs415_website/src/Components/UserView.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst UserView = () => {\r\n  const navigate = useNavigate();\r\n  const [columns, setColumns] = useState([]);\r\n  const [records, setRecords] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!window.sessionStorage.getItem(\"auth\")) navigate(\"/unauthorized\");\r\n    fetch(process.env.REACT_APP_API_URL_BASE + \"/users\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setColumns(Object.keys(data.users[0]));\r\n        setRecords(data.users);\r\n      })\r\n      .catch((error) => console.error(error));\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Users</h2>\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            {columns.map((c, i) => (\r\n              <th key={i}>{c.replaceAll(\"_\", \" \").toUpperCase()}</th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {records.map((record, i) => (\r\n            <tr key={i}>\r\n              <td>{record.user_id}</td>\r\n              <td>{record.user_name}</td>\r\n              <td>{record.email}</td>\r\n              <td class=\"hidetext\">{record.password}</td>\r\n              <td>{record.firstname}</td>\r\n              <td>{record.lastname}</td>\r\n              <td>{record.address}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserView;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAAC,QAAQ,CAAGN,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACO,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE1CC,SAAS,CAAC,IAAM,CACd,GAAI,CAACY,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CAAEP,QAAQ,CAAC,eAAe,CAAC,CACrEQ,KAAK,CAACC,OAAO,CAACC,GAAG,CAACC,sBAAsB,CAAG,QAAQ,CAAC,CACjDC,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,EAAK,CACdb,UAAU,CAACc,MAAM,CAACC,IAAI,CAACF,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CACtCd,UAAU,CAACW,IAAI,CAACG,KAAK,CAAC,CACxB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAKC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CAAC,CAC3C,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEtB,KAAA,QAAAwB,QAAA,eACE1B,IAAA,OAAA0B,QAAA,CAAI,OAAK,CAAI,CAAC,cACdxB,KAAA,UAAOyB,SAAS,CAAC,OAAO,CAAAD,QAAA,eACtB1B,IAAA,UAAA0B,QAAA,cACE1B,IAAA,OAAA0B,QAAA,CACGrB,OAAO,CAACuB,GAAG,CAAC,CAACC,CAAC,CAAEC,CAAC,gBAChB9B,IAAA,OAAA0B,QAAA,CAAaG,CAAC,CAACE,UAAU,CAAC,GAAG,CAAE,GAAG,CAAC,CAACC,WAAW,CAAC,CAAC,EAAxCF,CAA6C,CACvD,CAAC,CACA,CAAC,CACA,CAAC,cACR9B,IAAA,UAAA0B,QAAA,CACGnB,OAAO,CAACqB,GAAG,CAAC,CAACK,MAAM,CAAEH,CAAC,gBACrB5B,KAAA,OAAAwB,QAAA,eACE1B,IAAA,OAAA0B,QAAA,CAAKO,MAAM,CAACC,OAAO,CAAK,CAAC,cACzBlC,IAAA,OAAA0B,QAAA,CAAKO,MAAM,CAACE,SAAS,CAAK,CAAC,cAC3BnC,IAAA,OAAA0B,QAAA,CAAKO,MAAM,CAACG,KAAK,CAAK,CAAC,cACvBpC,IAAA,OAAIqC,KAAK,CAAC,UAAU,CAAAX,QAAA,CAAEO,MAAM,CAACK,QAAQ,CAAK,CAAC,cAC3CtC,IAAA,OAAA0B,QAAA,CAAKO,MAAM,CAACM,SAAS,CAAK,CAAC,cAC3BvC,IAAA,OAAA0B,QAAA,CAAKO,MAAM,CAACO,QAAQ,CAAK,CAAC,cAC1BxC,IAAA,OAAA0B,QAAA,CAAKO,MAAM,CAACQ,OAAO,CAAK,CAAC,GAPlBX,CAQL,CACL,CAAC,CACG,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3B,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}