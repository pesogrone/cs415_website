{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const UserView=()=>{const navigate=useNavigate();const[columns,setColumns]=useState([]);const[records,setRecords]=useState([]);useEffect(()=>{if(!window.sessionStorage.getItem(\"auth\"))navigate('/unauthorized');fetch('http://localhost:8000/users').then(res=>res.json()).then(data=>{setColumns(Object.keys(data.users[0]));setRecords(data.users);}).catch(error=>console.error(error));},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Users\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:columns.map((c,i)=>/*#__PURE__*/_jsx(\"th\",{children:c.replaceAll(\"_\",\" \").toUpperCase()},i))})}),/*#__PURE__*/_jsx(\"tbody\",{children:records.map((record,i)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:record.user_id}),/*#__PURE__*/_jsx(\"td\",{children:record.first_name}),/*#__PURE__*/_jsx(\"td\",{children:record.last_name}),/*#__PURE__*/_jsx(\"td\",{children:record.email}),/*#__PURE__*/_jsx(\"td\",{className:\"hidetext\",children:record.pass_word}),/*#__PURE__*/_jsx(\"td\",{children:record.created_date}),/*#__PURE__*/_jsx(\"td\",{children:record.is_active}),/*#__PURE__*/_jsx(\"td\",{children:record.last_login})]},i))})]})]});};export default UserView;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","UserView","navigate","columns","setColumns","records","setRecords","window","sessionStorage","getItem","fetch","then","res","json","data","Object","keys","users","catch","error","console","children","className","map","c","i","replaceAll","toUpperCase","record","user_id","first_name","last_name","email","pass_word","created_date","is_active","last_login"],"sources":["C:/Users/mdj72/source/Ensign/cs415/cs415_project/website/src/Components/UserView.jsx"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { useNavigate } from \"react-router-dom\"\r\n\r\n\r\nconst UserView = () => {\r\n    const navigate = useNavigate();\r\n    const [columns, setColumns] = useState([]);\r\n    const [records, setRecords] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (!window.sessionStorage.getItem(\"auth\")) navigate('/unauthorized')\r\n        fetch('http://localhost:8000/users')\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            setColumns(Object.keys(data.users[0]))\r\n            setRecords(data.users)\r\n        })\r\n        .catch(error => console.error(error));\r\n    }, []);\r\n\r\n  return (\r\n    <div>\r\n        <h2>Users</h2>\r\n        <table className='table'>\r\n            <thead>\r\n                <tr>\r\n                    {columns.map((c, i) => (\r\n                        <th key={i}>{c.replaceAll(\"_\", \" \").toUpperCase()}</th>\r\n                    ))}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {\r\n                    records.map((record,i) => (\r\n                        <tr key={i}>\r\n                            <td>{record.user_id}</td>\r\n                            <td>{record.first_name}</td>\r\n                            <td>{record.last_name}</td>\r\n                            <td>{record.email}</td>\r\n                            <td className=\"hidetext\">{record.pass_word}</td>\r\n                            <td>{record.created_date}</td>\r\n                            <td>{record.is_active}</td>\r\n                            <td>{record.last_login}</td>\r\n                        </tr>\r\n                    ))\r\n                }\r\n            </tbody>\r\n        </table>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserView\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,OAASC,WAAW,KAAQ,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG9C,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAAC,QAAQ,CAAGN,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACO,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAG1CC,SAAS,CAAC,IAAM,CACZ,GAAI,CAACY,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CAAEP,QAAQ,CAAC,eAAe,CAAC,CACrEQ,KAAK,CAAC,6BAA6B,CAAC,CACnCC,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,EAAI,CACVV,UAAU,CAACW,MAAM,CAACC,IAAI,CAACF,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CACtCX,UAAU,CAACQ,IAAI,CAACG,KAAK,CAAC,CAC1B,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CAAC,CACzC,CAAC,CAAE,EAAE,CAAC,CAER,mBACEnB,KAAA,QAAAqB,QAAA,eACIvB,IAAA,OAAAuB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdrB,KAAA,UAAOsB,SAAS,CAAC,OAAO,CAAAD,QAAA,eACpBvB,IAAA,UAAAuB,QAAA,cACIvB,IAAA,OAAAuB,QAAA,CACKlB,OAAO,CAACoB,GAAG,CAAC,CAACC,CAAC,CAAEC,CAAC,gBACd3B,IAAA,OAAAuB,QAAA,CAAaG,CAAC,CAACE,UAAU,CAAC,GAAG,CAAE,GAAG,CAAC,CAACC,WAAW,CAAC,CAAC,EAAxCF,CAA6C,CACzD,CAAC,CACF,CAAC,CACF,CAAC,cACR3B,IAAA,UAAAuB,QAAA,CAEQhB,OAAO,CAACkB,GAAG,CAAC,CAACK,MAAM,CAACH,CAAC,gBACjBzB,KAAA,OAAAqB,QAAA,eACIvB,IAAA,OAAAuB,QAAA,CAAKO,MAAM,CAACC,OAAO,CAAK,CAAC,cACzB/B,IAAA,OAAAuB,QAAA,CAAKO,MAAM,CAACE,UAAU,CAAK,CAAC,cAC5BhC,IAAA,OAAAuB,QAAA,CAAKO,MAAM,CAACG,SAAS,CAAK,CAAC,cAC3BjC,IAAA,OAAAuB,QAAA,CAAKO,MAAM,CAACI,KAAK,CAAK,CAAC,cACvBlC,IAAA,OAAIwB,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAEO,MAAM,CAACK,SAAS,CAAK,CAAC,cAChDnC,IAAA,OAAAuB,QAAA,CAAKO,MAAM,CAACM,YAAY,CAAK,CAAC,cAC9BpC,IAAA,OAAAuB,QAAA,CAAKO,MAAM,CAACO,SAAS,CAAK,CAAC,cAC3BrC,IAAA,OAAAuB,QAAA,CAAKO,MAAM,CAACQ,UAAU,CAAK,CAAC,GARvBX,CASL,CACP,CAAC,CAEH,CAAC,EACL,CAAC,EAEP,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}